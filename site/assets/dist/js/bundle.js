var b64app=function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=5)}([function(e,t){e.exports=function(){return new Worker("assets/dist/js/workers/encode.worker.648157dc6c3ea1322a44.js")}},function(e,t){e.exports=function(){return new Worker("assets/dist/js/workers/decode.worker.30ff1a08589f2c6e1b1b.js")}},function(e,t,i){var r=i(3),n=i(4);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1},o=(r(n,s),n.locals?n.locals:{});e.exports=o},function(e,t,i){"use strict";var r,n=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},s=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function a(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function d(e,t){for(var i={},r=[],n=0;n<e.length;n++){var s=e[n],d=t.base?s[0]+t.base:s[0],l=i[d]||0,c="".concat(d," ").concat(l);i[d]=l+1;var h=a(c),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(u)):o.push({identifier:c,updater:v(u,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var n=i.nc;n&&(r.nonce=n)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=s(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,h=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,i,r){var n=i?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=h(t,n);else{var s=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function p(e,t,i){var r=i.css,n=i.media,s=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),s&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var w=null,f=0;function v(e,t){var i,r,n;if(t.singleton){var s=f++;i=w||(w=l(t)),r=u.bind(null,i,s,!1),n=u.bind(null,i,s,!0)}else i=l(t),r=p.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=d(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<i.length;r++){var n=a(i[r]);o[n].references--}for(var s=d(e,t),l=0;l<i.length;l++){var c=a(i[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}i=s}}}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(2);const r=e=>e.querySelector.bind(e);String.prototype.trim=()=>String(void 0).replace(/^\s+|\s+$/g,"");const n={empty:"Please provide either file or text.",zerofilesize:"No file provided or it is empty.",filesize:"The file provided is too large.",outputTrimmed:'The output has been truncated. Please use "Save file..." or "Copy to clipboard" feature.'},s=function(e,t){this.FILESIZE_LIMIT=536870912,this.el=t,this.textInput=r(t)("[role=textinput]"),this.fileInput=r(t)("[role=file-drop]"),this.errorsView=r(t)("[role=errors]"),this.encodeBtn=r(t)("[role=encode-btn]"),this.decodeBtn=r(t)("[role=decode-btn]");let i=this;this.validateEncode=()=>{let e=""===this.textInput.value.trim(),t=0===this.fileInput.files.length;return!(e&&t)||["empty"]},this.validateEncode.bind(this),this.validateDecode=this.validateEncode,this.clear=()=>{this.textInput.value="",this.fileInput.value=null,this.decodeBtn.disabled=!1},this.clear.bind(this),this.cleanErrors=()=>{this.errorsView.style.opacity=0,this.errorsView.innerHTML=""},this.cleanErrors.bind(this),this.renderErrors=e=>{this.errorsView.style.opacity=1,this.errorsView.innerHTML=e.map(e=>`<p>${n[e]}</p>`).join("")},this.renderErrors.bind(this),this.readInputForEncode=()=>{let t;t=void 0!==this.fileInput.files[0]?new Blob([this.fileInput.files[0]]):new Blob([this.textInput.value]),t.size>this.FILESIZE_LIMIT?this.renderErrors(["filesize"]):0==t.size?this.renderErrors(["zerofilesize"]):e.dispatchEvent(new CustomEvent("encode",{detail:t}))},this.readInputForEncode.bind(this),this.readInputForDecode=()=>{let t;t=0===this.fileInput.files.length?new Blob([this.textInput.value]):new Blob([this.fileInput.files[0]]);let i=new CustomEvent("decode",{detail:t});e.dispatchEvent(i)},this.readInputForDecode.bind(this),this.init=()=>{this.fileInput.addEventListener("change",()=>{this.decodeBtn.disabled=!0,this.encodeBtn.disabled=!1}),this.textInput.addEventListener("change",()=>{this.decodeBtn.disabled=!1,this.encodeBtn.disabled=!1}),this.encodeBtn.addEventListener("click",()=>{i.readInputForEncode()}),this.decodeBtn.addEventListener("click",()=>{let e=i.validateDecode();!0===e?(i.cleanErrors(),i.readInputForDecode()):i.renderErrors(e)})},this.init.bind(this)},o=function(e,t){this.blob=e;t=t||{};this.trimFirst=t.trimFirst||64,this.trimLast=t.trimLast||64,this.present=t=>{let i=this;return new Promise((r,n)=>{let s=new FileReader;s.addEventListener("loadend",()=>{let e=s.result.length>i.trimFirst,r=`<pre class="trimFirst">${s.result.slice(0,i.trimFirst)}</pre>`;e&&(r+='<pre class="delimiter">...</pre>',r+=`<pre class="trimLast">${s.result.slice(-i.trimLast)}</pre>`),t.innerHTML=r}),s.readAsText(e)})},this.present.bind(this)},a=function(e,t){this.blob=e;t=t||{};this.cols=t.cols||16,this.trimFirst=t.trimFirst||64,this.trimLast=t.trimLast||64,this.present=t=>{let i=this;return new Promise((r,n)=>{let s=new FileReader;s.addEventListener("loadend",()=>i._renderHex(t,s.result).then(()=>r())),s.readAsArrayBuffer(e)})},this.present.bind(this),this._renderHex=(e,t)=>{let i=new Uint8Array(t);return new Promise((t,r)=>{var n=0,s='<table class="hexviewer">';s+="<thead><tr><th></th>";for(let e=0;e<this.cols;e++)s+=`<th>${e.toString(16).padStart(2,"0")}</th>`;s+="</tr></thead>";let o=0,a=i.length,d=0+this.trimFirst,l=a-1-this.trimLast;for(l<0&&(l=a-1);n<a;){let e="<tr>",t=`0x${n.toString(16).padStart(8,"0")}`;for(let r=0;r<this.cols&&n+r<a;r++){let s=n+r;if(s>=d&&s<l){o=l+1,e+=`<tr class="trimmed"><td class="trimmed" colspan="${this.cols+1}">0x${s.toString(16).padStart(8,"0")}..0x${l.toString(16).padStart(8,"0")}</td>`;break}{0==r&&(e+=`<td class="addr">${t}</td>`);let n="0x"+s.toString(16).padStart(8,"0"),a=i[s].toString(16).padStart(2,"0");e+=`<td data-addr="${n}" data-ascii="${String.fromCharCode(i[s])}">${a}</td>`,o++}}n=o,e+="</tr>",s+=e}s+="</table>",e.innerHTML=s,t()})},this._renderHex.bind(this)},d=function(e,t){this.el=t,this.OUTPUT_MAX_SIZE=64,this.binaryPreview=r(t)("[role=binary-preview]"),this.textPreview=r(t)("[role=text-preview]"),this.outputView=r(t)("[role=encoding-output]"),this.notificationView=r(t)("[role=notification]"),this.copyToClipboardBtn=r(t)("[role=save-clipboard-btn]"),this.saveFileBtn=r(t)("[role=save-file-btn]"),this.operationResult=void 0,this.restartBtn=r(t)("[role=restart-btn]"),this.setOutputIsTrimmed=e=>{e?(this.notificationView.style.opacity=1,this.notificationView.innerHTML=`<p>${n.outputTrimmed}</p>`):(this.notificationView.style.opacity=0,this.notificationView.innerHTML="")},this.setOutputIsTrimmed.bind(this),this.renderEncodingResult=(e,t)=>{let i=new a(e,{trimFirst:128,trimLast:128}),r=new o(e);i.present(this.binaryPreview),r.present(this.textPreview);let n=this.OUTPUT_MAX_SIZE;this.operationResult=["encoded",new Blob([t],{type:"text/plain"})],this.copyToClipboardBtn.disabled=!1,this.saveFileBtn.disabled=!1,t.length>n?(this.outputView.innerText=t.slice(0,n)+"...",this.setOutputIsTrimmed(!0)):(this.setOutputIsTrimmed(!1),this.outputView.innerText=t)},this.renderEncodingResult.bind(this),this.renderDecodingResult=(e,t)=>{let i=new a(t,{trimFirst:128,trimLast:128}),r=new o(t);i.present(this.binaryPreview),r.present(this.textPreview),this.copyToClipboardBtn.disabled=!0,this.saveFileBtn.disabled=!1,this.operationResult=["decoded",new Blob([t],{type:"application/octet-stream"})],this.outputView.innerText=""},this.renderDecodingResult.bind(this),this.init=()=>{this.copyToClipboardBtn.disabled=!0,this.saveFileBtn.disabled=!0,this.restartBtn.addEventListener("click",()=>{let t=new Event("restart");this.copyToClipboardBtn.disabled=!0,this.saveFileBtn.disabled=!0,e.dispatchEvent(t)}),this.copyToClipboardBtn.addEventListener("click",()=>{let e={};e[this.operationResult[1].type]=this.operationResult[1],navigator.clipboard.write([new ClipboardItem(e)])}),this.saveFileBtn.addEventListener("click",()=>{let e=document.createElementNS("http://www.w3.org/1999/xhtml","a");e.href=URL.createObjectURL(this.operationResult[1]);"encoded"==this.operationResult[0]?e.download="result.base64.txt":e.download="result.base64.bin",document.body.appendChild(e),e.dispatchEvent(new MouseEvent("click")),document.body.removeChild(e)})},this.init.bind(this)},l=function(e,t){this.el=t,this.volume=void 0,this.cancelBtn=r(t)("[role=cancel-btn]"),this.outputView=r(t)("[role=output-holder]"),this.updateView=e=>{let t=e.detail,i=1*t/(1*this.volume)*100;this.outputView.innerHTML=`<p>${t}/${this.volume} (${i})</p>`},this.updateView.bind(this),this.start=t=>{this.volume=t.detail,this.outputView.innerHTML="<p></p>",this.cancelBtn.style.opacity="1.0",e.addEventListener("progress",this.updateView),e.addEventListener("progressEnd",this.end)},this.start.bind(this),this.end=()=>{this.cancelBtn.style.opacity="0.0",e.removeEventListener("progress",this.updateView),e.removeEventListener("progressEnd",this.end),this.volume=void 0},this.end.bind(this),this.init=()=>{e.addEventListener("progressStart",this.start),this.cancelBtn.addEventListener("click",()=>{e.dispatchEvent(new Event("progressCancel"))})},this.init.bind(this)},c=(e,t,i)=>new Promise((r,n)=>{let s,o=e;s=()=>{o.terminate(),i.removeEventListener("progressCancel",s)},i.addEventListener("progressCancel",s),o.onmessage=e=>{switch(e.data[0]){case"progress":i.dispatchEvent(new CustomEvent("progress",{detail:e.data[1]}));break;case"start":i.dispatchEvent(new CustomEvent("progressStart",{detail:e.data[1]}));break;case"error":n(e.data[1]);break;case"end":i.dispatchEvent(new CustomEvent("progressEnd")),i.removeEventListener("progressCancel",s),o.terminate(),r(e.data[1]);break;case"beforestart":i.dispatchEvent(new CustomEvent("progressStarted"));break;default:n(new Error("Unknown message from worker."))}},o.postMessage([t])});var h=i(0),u=i.n(h),p=i(1),w=i.n(p);i.d(t,"AppController",(function(){return f}));const f=function(e){let t=e;this.inputViewCtl=new s(t,r(e)("[role=input-view]")),this.resultViewCtl=new d(t,r(e)("[role=result-view]")),this.progressViewCtl=new l(t,r(e)("[role=progress-view]")),this.progressViewCtl.init();let i=this;this.presentView=e=>(e.el.classList.remove("b64-hidden"),new Promise((e,t)=>setTimeout(e,300))),this.hideView=e=>(e.el.classList.add("b64-hidden"),new Promise((e,t)=>setTimeout(e,300))),this.init=()=>{this.inputViewCtl.init(),this.resultViewCtl.init(),t.addEventListener("error",e=>{alert("Unknown error has occured. Try again.")}),t.addEventListener("encode",e=>{let r=e.detail,n=this.presentView(i.progressViewCtl).then(()=>c(new u.a,r,t)).then(e=>{if(n.rejected)throw new Error("Rejected.");return i.resultViewCtl.renderEncodingResult(r,e),i.presentView(i.resultViewCtl)}).then(()=>{if(n.rejected)throw new Error("Rejected.");i.hideView(i.progressViewCtl),i.hideView(i.inputViewCtl)});n.rejected=!1;let s=()=>{n.rejected=!0,i.hideView(i.progressViewCtl),i.hideView(i.resultViewCtl),i.presentView(i.inputViewCtl),t.removeEventListener("progressCancel",s)};t.addEventListener("progressCancel",s)}),t.addEventListener("decode",e=>{let r=e.detail,n=this.presentView(i.progressViewCtl).then(()=>c(new w.a,r,t)).then(e=>{if(n.rejected)throw new Error("Rejected.");return i.resultViewCtl.renderDecodingResult(r,e),i.presentView(i.resultViewCtl)}).then(()=>{if(n.rejected)throw new Error("Rejected.");i.hideView(i.inputViewCtl)}).then(()=>{if(n.rejected)throw new Error("Rejected.");i.hideView(i.progressViewCtl)});n.rejected=!1;let s=()=>{n.rejected=!0,i.hideView(i.progressViewCtl),i.hideView(i.resultViewCtl),i.presentView(i.inputViewCtl),t.removeEventListener("progressCancel",s)};t.addEventListener("progressCancel",s)}),t.addEventListener("restart",()=>{i.inputViewCtl.clear(),i.hideView(i.resultViewCtl).then(()=>i.presentView(i.inputViewCtl))})},this.init.bind(this)}}]);